{"version":3,"sources":["webpack:///webpack/bootstrap 9db7ea2199ca5ba24ce2?a850*****","webpack:///./app/jsx/components/common/Loading.react.jsx?ef4b","webpack:///./app/jsx/home.flash.jsx","webpack:///./app/jsx/components/home/HomeTabTwo.react.jsx"],"names":[],"mappings":"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","file":"home.flash.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9db7ea2199ca5ba24ce2\n **/","var Loading = React.createClass({\r\n\r\n\r\n    loadStyle: function(){\r\n        var divStyle = {height: \"60px\"};\r\n        if(typeof this.props.height === 'number'){\r\n          divStyle.height = this.props.height + \"px\"\r\n        }\r\n        return divStyle;\r\n    },\r\n\r\n    showContent: function(){\r\n        var loadContent = <div className='load'><span>Loading...</span></div>;\r\n        if(typeof this.props.content === 'string'){\r\n          loadContent = this.props.content;\r\n        }\r\n        return loadContent;\r\n    },\r\n\r\n    render: function() {\r\n        return (\r\n            <div style={this.loadStyle()}>{this.showContent()}</div>\r\n        );\r\n    }\r\n});\r\n\r\nmodule.exports = Loading;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/jsx/components/common/Loading.react.jsx\n **/","var HomeTabTwo = require('./components/home/HomeTabTwo.react');\r\n\r\nvar init = function(elementID) {\r\n    ReactDOM.render(\r\n        <HomeTabTwo/>, document.getElementById(elementID));\r\n};\r\n\r\nvar getComponent = function(){\r\n    return <HomeTabTwo />;\r\n};\r\n\r\nwindow.nemReact.reacts['homeFlash'] = {\r\n    init: init,\r\n    getComponent: getComponent\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/jsx/home.flash.jsx\n **/","var NEProduct = nemReact.require(\"NEProduct\", \"react\");\r\nvar Loading = require('../common/Loading.react');\r\nvar FlashAction = nemReact.require('FlashAction');\r\nvar FlashStore = nemReact.require('FlashStore');\r\n\r\nfunction getFlashItems(pageSize, pageNumber) {\r\n    var flashItems = FlashStore.getFlashItems();\r\n    if (flashItems == null || flashItems.length === 0) {\r\n        FlashAction.getFlashItems(pageSize, pageNumber);\r\n    }\r\n    return {flashItems: flashItems};\r\n}\r\n\r\nfunction generateFlashItem(flashItem) {\r\n    return (<NEProduct\r\n      key={flashItem.ID}\r\n      productID={flashItem.ItemID}\r\n      isDiscount={true}\r\n      imgUrl={flashItem.ImgUrl}\r\n      productLink={flashItem.ItemLink}\r\n      title={flashItem.Title}\r\n      qty={parseInt(flashItem.SellQuantity, 10)}\r\n      marketPrice={parseInt(flashItem.OriginalPrice)}\r\n      sellingPrice={parseInt(flashItem.GroupBuyPrice)}\r\n      slogan={flashItem.Sdesc}\r\n      isSlogan={false}\r\n      showLeft={true}\r\n      notSale={flashItem.isExpired}\r\n      isFlash={true}\r\n      flashTime={flashItem.EndDate}/>\r\n  );\r\n}\r\n\r\nvar HomeTabTwo = React.createClass({\r\n\r\n    getInitialState: function() {\r\n        return {pageNumber: FlashStore.getFlashCurrentPage(), pageSize: 3, flashItems: [], isLoad: true, reachMax: false};\r\n    },\r\n\r\n    componentWillMount: function() {\r\n        window.addEventListener(\"scroll\", this.handleScroll);\r\n        this.setState(getFlashItems(this.state.pageSize, this.state.pageNumber));\r\n    },\r\n\r\n    componentDidMount: function() {\r\n        FlashStore.addChangeListener(this._onChange);\r\n    },\r\n\r\n    componentWillUnmount: function() {\r\n        FlashStore.removeChangeListener(this._onChange);\r\n        window.removeEventListener(\"scroll\", this.handleScroll);\r\n    },\r\n\r\n    handleScroll: function(e) {\r\n        //this function will be triggered if user scrolls\r\n        //var windowHeight = $(window).height();\r\n        var windowHeight = $(\"#IndexTabContent\").height();\r\n        var inHeight = window.innerHeight;\r\n        var scrollT = $(window).scrollTop();\r\n        var totalScrolled = scrollT + inHeight;\r\n        /*console.log('-------------------------------');\r\n        console.log(scrollT);\r\n        console.log(inHeight);\r\n        console.log(totalScrolled);\r\n        console.log(windowHeight);\r\n        console.log('-------------------------------');*/\r\n        if (totalScrolled + 100 > windowHeight) { //user reached at bottom\r\n            if (!this.state.isLoad && !this.state.reachMax) {\r\n                this.setState({isLoad: true});\r\n                var maxPage = FlashStore.getFlashMaxPage();\r\n                var getPage = ++this.state.pageNumber;\r\n                if (maxPage >= getPage) {\r\n                    FlashAction.getFlashItems(this.state.pageSize, getPage);\r\n                } else {\r\n                    this.setState({reachMax: true, isLoad: false});\r\n                }\r\n            } else {\r\n                this.setState({isLoad: false});\r\n            }\r\n        }\r\n    },\r\n\r\n    showLoad: function() {\r\n        if (this.state.isLoad) {\r\n            return <Loading/>;\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    },\r\n\r\n    render: function() {\r\n\r\n        var flashItems = [];\r\n        for (var i = 0; i < this.state.flashItems.length; i++) {\r\n            flashItems.push(generateFlashItem(this.state.flashItems[i]));\r\n        }\r\n        return (\r\n            <li className={\"current\"} style={{\r\n                display: \"block\"\r\n            }}>\r\n\r\n                <div className=\"flash\">\r\n                    <div className=\"flashBanner\">\r\n                        <img src=\"/Themes/2016/images/daySoonBuy_logo.svg\"/>\r\n                    </div>\r\n                    {flashItems}\r\n                    {/*\r\n                    <NEProduct productID={5} isDiscount={true} imgUrl={\"https://negcdn.azureedge.net/www/pic/item/0052/1227_1_640.jpg\"} productLink={\"#\"} title={\"123\"} qty={2} marketPrice={600} sellingPrice={500} slogan={\"wahahahha\"} isSlogan={true} showLeft={true} notSale={false} isFlash={true} flashTime={\"00:05:00\"}/>\r\n                    <NEProduct productID={5} isDiscount={true} imgUrl={\"https://negcdn.azureedge.net/www/pic/item/0052/1227_1_640.jpg\"} productLink={\"#\"} title={\"123\"} qty={2} marketPrice={400} sellingPrice={500} slogan={\"wahahahha\"} isSlogan={false} showLeft={true} notSale={false} isFlash={true} flashTime={\"00:05:00\"}/>\r\n                    <NEProduct productID={5} isDiscount={true} imgUrl={\"https://negcdn.azureedge.net/www/pic/item/0052/1227_1_640.jpg\"} productLink={\"#\"} title={\"123\"} qty={2} marketPrice={500} sellingPrice={500} slogan={\"wahahahha\"} isSlogan={true} showLeft={false} notSale={false} isFlash={true} flashTime={\"00:05:00\"}/>\r\n                    <NEProduct productID={5} isDiscount={true} imgUrl={\"https://negcdn.azureedge.net/www/pic/item/0052/1227_1_640.jpg\"} productLink={\"#\"} title={\"123\"} qty={2} marketPrice={550} sellingPrice={500} slogan={\"wahahahha\"} isSlogan={true} showLeft={true} notSale={true} isFlash={true} flashTime={\"00:05:00\"}/>\r\n                    <NEProduct productID={5} isDiscount={true} imgUrl={\"https://negcdn.azureedge.net/www/pic/item/0052/1227_1_640.jpg\"} productLink={\"#\"} title={\"123\"} qty={2} marketPrice={5500} sellingPrice={500} slogan={\"wahahahha\"} isSlogan={true} showLeft={true} notSale={false} isFlash={false} flashTime={\"00:05:00\"}/>\r\n                    <NEProduct productID={5} isDiscount={true} imgUrl={\"https://negcdn.azureedge.net/www/pic/item/0052/1227_1_640.jpg\"} productLink={\"#\"} title={\"123\"} qty={2} marketPrice={0} sellingPrice={500} slogan={\"wahahahha\"} isSlogan={true} showLeft={true} notSale={false} isFlash={true} flashTime={\"00:05:00\"}/>\r\n                    <NEProduct productID={5} isDiscount={true} imgUrl={\"https://negcdn.azureedge.net/www/pic/item/0052/1227_1_640.jpg\"} productLink={\"#\"} title={\"123\"} qty={2} marketPrice={5100} sellingPrice={500} slogan={\"wahahahha\"} isSlogan={true} showLeft={true} notSale={false} isFlash={true} flashTime={\"00:05:00\"}/>\r\n                    */}\r\n                    {this.showLoad()}\r\n                </div>\r\n\r\n            </li>\r\n        );\r\n    },\r\n\r\n    _onChange: function() {\r\n        this.setState({isLoad: false});\r\n        if(FlashStore.getHasData()){\r\n          this.setState(getFlashItems(this.state.pageSize, this.state.pageNumber));\r\n        }\r\n    }\r\n});\r\n\r\nmodule.exports = HomeTabTwo;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/jsx/components/home/HomeTabTwo.react.jsx\n **/"],"sourceRoot":""}